(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-20aa"],{AZuI:function(t,e,a){"use strict";var n=a("bQ7g");a.n(n).a},GKIQ:function(t,e,a){},RwFT:function(t,e,a){"use strict";var n=a("GKIQ");a.n(n).a},bQ7g:function(t,e,a){},lAbF:function(t,e,a){"use strict";a.r(e);var n=a("/f1G"),i=a.n(n),r=a("GQeE"),s=a.n(r),o=a("YEIV"),c=a.n(o),d=a("P2sY"),l=a.n(d),u=a("m1cH"),p=a.n(u),h=a("14Xm"),m=a.n(h),v=a("D3Ub"),y=a.n(v),f=a("QbLZ"),g=a.n(f),_=a("wdo6"),C=a.n(_),x=a("atD/"),b=a.n(x),D=a("L2JU"),w=a("wd/R"),P=a.n(w),O={name:"ExcelExport",data:function(){return{date:{from:new Date,to:new Date},commission:0,orders:[],isLoading:!1,translates:{card:"Картой",cash:"Наличными",car:"К машине",leg:"Самовызов",canceled:"Отклонён",done:"Исполнен",new:"Новый заказ",accepted:"Принят",ready:"Готов",wrong_order:"Несоответствие заказа или стоимости",quality:"Качество продуктов",time:"Время приготовления",service:"Обслуживание",other:"Другое",ml:"мл.",li:"л.",gr:"гр.",mg:"мг.",po:"порция"}}},methods:{handleDownload:function(){var t=this;return y()(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.next=3,t.fetchOrders();case 3:return e.next=5,t.fetchCommission();case 5:Promise.all([a.e("chunk-e1df"),a.e("chunk-5556")]).then(a.bind(null,"S/jZ")).then(function(e){var a={"№":"orderNum","Дата создания заказа":"createdAt","Дата завершения заказа":"takeTime","Статус заказа":"status","_id точки, в которой был совершен заказ":"pointId","Название точки, в которой был совершен заказ":"point.name","Клиент":"client.name","Телефон клиента":"client.phone","Сумма заказа":"orderAmount","Сумма с учётом комиссии за процессинг":"orderAmountCommission","Способ оплаты":"paymentType","Тип доставки":"deliveryType","Состав заказа":"products","Оценка заказа":"ratings"},n=t.orders,r=t.formatJson(i()(a),n);e.export_json_to_excel({header:s()(a),data:r}),t.isLoading=!1});case 6:case"end":return e.stop()}},e,t)}))()},fetchOrders:function(){var t=this;return y()(m.a.mark(function e(){var a,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.$apiClient.service("orders"),n={companyId:t.activeCompanyId,createdAt:{$gte:t.date.from,$lte:P()(t.date.to).add(1,"days").format("YYYY-MM-DD")},$limit:-1},e.next=4,a.find({query:n});case 4:t.orders=e.sent;case 5:case"end":return e.stop()}},e,t)}))()},fetchCommission:function(){var t=this;return y()(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$apiClient.service("settings").find({query:{$select:["commission"]}});case 2:t.commission=e.sent.commission;case 3:case"end":return e.stop()}},e,t)}))()},formatJson:function(t,e){var a=this;return e.map(function(e){return t.map(function(t){if(t.indexOf(".")>-1){var n=t.split(".").reduce(function(t,e){return!!t&&t[e]},e);return n||"Неизвестно"}return"orderAmountCommission"===t?"card"===e.paymentType?e.orderAmount/100*(100-a.commission):e.orderAmount:"createdAt"===t||"updatedAt"===t||"takeTime"===t?P()(e[t]).format("YYYY-MM-DD H:m"):"products"===t?e[t].map(function(t){var e=t.product.volume.find(function(e){return e._id&&t.volumeId&&e._id.toString()===t.volumeId.toString()});return t.product.name+" - "+t.quantity+" шт. "+e.count*t.quantity+" "+(a.translates[e.volumeType]?a.translates[e.volumeType]:e.volumeType)}):"ratings"===t?0===e[t].length?"Неизвестно":e[t].map(function(t){return(a.translates[t.type]?a.translates[t.type]:t.type)+" - "+t.rating}):"deliveryType"===t&&"car"===e[t]?e.client&&e.client.cars&&e.client.cars[0]?"К машине: "+e.client.cars[0].brand+" "+e.client.cars[0].plateNumber+" ("+e.client.cars[0].color+")":"К машине":a.translates[e[t]]?a.translates[e[t]]:e[t]})})}}},T=(a("RwFT"),a("KHd+")),R=Object(T.a)(O,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("span",{staticClass:"text-style"},[t._v("Диапозон дат для выгрузки: ")]),t._v(" "),a("el-date-picker",{attrs:{type:"date",placeholder:"Pick a day"},model:{value:t.date.from,callback:function(e){t.$set(t.date,"from",e)},expression:"date.from"}}),t._v(" "),a("el-date-picker",{attrs:{type:"date",placeholder:"Pick a day"},model:{value:t.date.to,callback:function(e){t.$set(t.date,"to",e)},expression:"date.to"}}),t._v(" "),a("el-button",{staticStyle:{margin:"0 0 20px 20px"},attrs:{loading:t.isLoading,type:"primary",icon:"document"},on:{click:t.handleDownload}},[t._v("\n    Export Excel\n  ")])],1)},[],!1,null,"522ce68f",null);R.options.__file="index.vue";var k=R.exports,Y=a("MT78"),I=a.n(Y),q=a("7Qib");a("gX0l");var L={props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"400px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data:function(){return{chart:null,sidebarElm:null}},watch:{chartData:{deep:!0,handler:function(t){this.setOptions(t.quantities,t.dates)}}},mounted:function(){var t=this;this.initChart(),this.autoResize&&(this.__resizeHandler=Object(q.a)(function(){t.chart&&t.chart.resize()},100),window.addEventListener("resize",this.__resizeHandler)),this.sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.sidebarElm&&this.sidebarElm.addEventListener("transitionend",this.sidebarResizeHandler)},beforeDestroy:function(){this.chart&&(this.autoResize&&window.removeEventListener("resize",this.__resizeHandler),this.sidebarElm&&this.sidebarElm.removeEventListener("transitionend",this.sidebarResizeHandler),this.chart.dispose(),this.chart=null)},methods:{sidebarResizeHandler:function(t){"width"===t.propertyName&&this.__resizeHandler()},setOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.company,a=t.point,n=arguments[1];if(!e||!a)return!1;this.chart.setOption({xAxis:{data:n,boundaryGap:!1,axisTick:{show:!1}},grid:{left:10,right:10,bottom:20,top:30,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,10]},yAxis:{axisTick:{show:!1}},legend:{data:[e.name,a.name]},series:[{name:e.name,itemStyle:{normal:{color:"#FF005A",lineStyle:{color:"#FF005A",width:2}}},smooth:!0,type:"line",data:e.data,animationDuration:2800,animationEasing:"cubicInOut"},{name:a.name,smooth:!0,type:"line",itemStyle:{normal:{color:"#3888fa",lineStyle:{color:"#3888fa",width:2},areaStyle:{color:"#f3f8ff"}}},data:a.data,animationDuration:2800,animationEasing:"quadraticOut"}]})},initChart:function(){this.chart=I.a.init(this.$el,"macarons"),this.setOptions(this.chartData.quantities,this.chartData.dates)}}},S=Object(T.a)(L,function(){var t=this.$createElement;return(this._self._c||t)("div",{class:this.className,style:{height:this.height,width:this.width}})},[],!1,null,null,null);S.options.__file="LineChart.vue";var $=S.exports,A={props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"250px"},chartData:{type:Object,default:function(){return{}}}},data:function(){return{chart:null,chartValues:{}}},watch:{chartData:{handler:function(){this.initChart()},deep:!0}},mounted:function(){var t=this;this.initChart(),this.__resizeHandler=Object(q.a)(function(){t.chart&&t.chart.resize()},100),window.addEventListener("resize",this.__resizeHandler)},beforeDestroy:function(){this.chart&&(window.removeEventListener("resize",this.__resizeHandler),this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=I.a.init(this.$el,"macarons"),this.setOptions(this.chartData)},setOptions:function(t){var e=t.seriesArr,a=t.legendArr;this.chart.setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{left:"center",bottom:"10",data:a},calculable:!0,series:[{name:"",type:"pie",radius:[10,60],center:["50%","38%"],data:e,animationEasing:"cubicInOut",animationDuration:2600}]})}}},E=Object(T.a)(A,function(){var t=this.$createElement;return(this._self._c||t)("div",{class:this.className,style:{height:this.height,width:this.width}})},[],!1,null,null,null);E.options.__file="PieChart.vue";var M=E.exports,z={name:"Dashboard",components:{StarRating:C.a,VueElementLoading:b.a,ExcelExport:k,LineChart:$,PieChart:M},data:function(){return{pieOrders:{quantity:{byPoints:[],byClosed:[],byPaymentType:[],byDeliveryType:[],byProducts:[],byCategories:[]},price:{byPoints:[],byClosed:[],closedByPaymentType:[],byCategories:[]}},pieRatings:{quantity:{byNegativeRatings:[],averageRating:[]}},dateRange:[P()().add(-1,"M"),P()()],pickerOptions:{shortcuts:[{text:"Last day",onClick:function(t){var e=new Date;this.period="Last day",t.$emit("pick",[e,e])}},{text:"Last week",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),this.period="Last week",t.$emit("pick",[a,e])}},{text:"Last month",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-2592e6),this.period="Last month",t.$emit("pick",[a,e])}},{text:"Last 3 months",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-7776e6),this.period="Last 3 months",t.$emit("pick",[a,e])}},{text:"All time",onClick:function(t){this.period="All time",t.$emit("pick",["",""])}}]},companies:[],lineChartData:{company:{},point:{}},translates:{card:"Картой",cash:"Наличными",car:"К машине",leg:"Самовызов",wrong_order:"Несоответствие заказа или стоимости",quality:"Качество продуктов",time:"Время приготовления",service:"Обслуживание",other:"Другое"},chartBy:"month",averageChartBy:"month",isLoading:!0}},computed:g()({},Object(D.c)({activeCompanyId:"companies/activeCompanyId",activePointId:"companies/activePointId",availablePoints:"companies/availablePoints",roles:"user/roles",userType:"user/userType",email:"user/email"})),mounted:function(){this.fetchData(),"admin"==this.userType&&(this.isAdmin=!0,this.fetchCompanies()),"company"===this.userType&&(this.availablePoints&&0!==this.availablePoints.length||this.fetchPointsByCompany())},methods:g()({},Object(D.b)({setCompanyId:"companies/setCompanyId",fetchPointsByCompany:"companies/fetchPointsByCompany",setPointId:"companies/setPointId"}),{handleDateRangeChagne:function(){this.fetchData(),0===P()(this.dateRange[1]).diff(P()(this.dateRange[0]),"days")?(this.chartBy="day",this.averageChartBy="day"):(this.chartBy="month",this.averageChartBy="month")},fetchData:function(){var t=this;return y()(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.next=3,t.fetchOrdersLineData();case 3:return e.next=5,t.fetchOrders();case 5:t.fetchRatings(),t.isLoading=!1;case 7:case"end":return e.stop()}},e,t)}))()},fetchCompanies:function(){var t=this;return y()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$apiClient.service("companies").find({query:{$limit:-1,$all:!0}});case 2:a=e.sent,t.companies=a;case 4:case"end":return e.stop()}},e,t)}))()},fetchOrders:function(){var t=this;return y()(m.a.mark(function e(){var a,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.$apiClient.service("dashboard"),n={companyId:t.activeCompanyId,$sort:{createdAt:1}},t.dateRange&&""!==t.dateRange[0]&&""!==t.dateRange[1]&&(n.createdAt={$gte:P()(t.dateRange[0]).format("YYYY-MM-DD"),$lte:P()(t.dateRange[1]).add(1,"days").format("YYYY-MM-DD")}),e.next=5,a.get("pie-orders",{query:n});case 5:t.pieOrders=e.sent;case 6:case"end":return e.stop()}},e,t)}))()},fetchRatings:function(){var t=this;return y()(m.a.mark(function e(){var a,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.$apiClient.service("dashboard"),n={companyId:t.activeCompanyId,$sort:{createdAt:1}},t.dateRange&&""!==t.dateRange[0]&&""!==t.dateRange[1]&&(n.createdAt={$gte:P()(t.dateRange[0]).format("YYYY-MM-DD"),$lte:P()(t.dateRange[1]).add(1,"days").format("YYYY-MM-DD")}),e.next=5,a.get("pie-ratings",{query:n});case 5:t.pieRatings=e.sent;case 6:case"end":return e.stop()}},e,t)}))()},fetchOrdersLineData:function(){var t=this;return y()(m.a.mark(function e(){var a,n,i;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.$apiClient.service("dashboard"),n={companyId:t.activeCompanyId,$sort:{createdAt:-1}},t.dateRange&&""!==t.dateRange[0]&&""!==t.dateRange[1]&&(n.createdAt={$gte:P()(t.dateRange[0]).format("YYYY-MM-DD"),$lte:P()(t.dateRange[1]).add(1,"days").format("YYYY-MM-DD")}),i={},e.next=6,a.get("line-orders",{query:n});case 6:if(i.company=e.sent,!t.activePointId){e.next=13;break}return delete n.companyId,n.pointId=t.activePointId,e.next=12,a.get("line-orders",{query:n});case 12:i.point=e.sent;case 13:t.lineChartData=i;case 14:case"end":return e.stop()}},e,t)}))()},handleChangeCompany:function(t){var e=""===t?void 0:t;this.setCompanyId(e),this.setPointId(void 0),this.fetchData()},handleChangePoint:function(t){var e=""===t?void 0:t;this.setPointId(e),this.fetchOrdersLineData()},transformToPieChart:function(t){var e=this,a=[],n=[];return 0===t.length?(a.push({value:0,name:"Нет данных"}),n.push("Нет данных"),{seriesArr:a,legendArr:n}):(t.forEach(function(t){var i=e.translates[t._id]?e.translates[t._id]:t._id;n.push(i),a.push({value:t.count,name:i})}),{seriesArr:a,legendArr:n})},transformToLineChart:function(t){var e,a,n={},r=this.lineChartData.company&&this.lineChartData.company[t]?this.lineChartData.company[t]:[],o=this.lineChartData.point&&this.lineChartData.point[t]?this.lineChartData.point[t]:[],d=[].concat(p()(this.dateRange));""!==d[0]&&d[0]||0===r.length||(d[0]=r&&r[0]?r[0]._id:new Date),"month"===this.chartBy?n=this.countDaysInMonth(d):"day"===this.chartBy&&(n=this.countHours()),e=l.a.apply(Object,[{},n].concat(p()(r.map(function(t){return c()({},t._id,t.count)})))),a=l.a.apply(Object,[{},n].concat(p()(o.map(function(t){return c()({},t._id,t.count)}))));var u=this.getCompanyName(),h=this.getPointName();return{dates:s()(n),quantities:{company:{name:u,data:i()(e)},point:{name:h,data:i()(a)}}}},countSum:function(t){return t.reduce(function(t,e){return t+ +e.count},0)},countDaysInMonth:function(t){var e=P()(t[0],"DD-MM-YYYY"),a=""!==t[1]?P()(t[1]):P()(),n={};for(n[e.format("DD-MM-YYYY")]=0;e.add(1,"days").diff(a)<=0;)n[e.format("DD-MM-YYYY")]=0;return n},countHours:function(){for(var t={},e=1;e<25;e++)t[e]=0;return t},getPointName:function(){var t=this,e=this.availablePoints.find(function(e){return!(!e._id||!t.activePointId)&&e._id.toString()===t.activePointId.toString()});return e?"Точка "+e.name:"Точка"},getCompanyName:function(){var t=this,e=this.companies.find(function(e){return!(!e._id||!t.activeCompanyId)&&e._id.toString()===t.activeCompanyId.toString()});return e?"Сеть "+e.name:"Сеть"}})},B=(a("AZuI"),Object(T.a)(z,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-container"},[a("el-row",{staticClass:"top-menu"},[a("el-col",{attrs:{offset:1}},[a("span",{staticClass:"text-style"},[t._v("Информация по компании: ")]),t._v(" "),"admin"===t.userType?a("el-select",{attrs:{value:t.activeCompanyId,placeholder:"Компания",clearable:""},on:{change:t.handleChangeCompany}},t._l(t.companies,function(t){return a("el-option",{key:t._id,attrs:{label:t.name,value:t._id}})})):t._e(),t._v(" "),t.activeCompanyId?a("el-select",{attrs:{value:t.activePointId,placeholder:"Точка",clearable:""},on:{change:t.handleChangePoint}},t._l(t.availablePoints,function(t){return a("el-option",{key:t._id,attrs:{label:t.name,value:t._id}})})):t._e(),t._v(" "),a("excel-export",{staticStyle:{"margin-top":"20px"}}),t._v(" "),a("div",{staticClass:"dates"},[a("span",{staticClass:"text-style"},[t._v("Данные за: ")]),t._v(" "),a("el-date-picker",{attrs:{"picker-options":t.pickerOptions,clearable:!1,type:"daterange","start-placeholder":"Start date","end-placeholder":"End date"},on:{change:t.handleDateRangeChagne},model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"stats"},[a("div",{staticClass:"line-charts"},[a("el-row",[a("vue-element-loading",{attrs:{active:t.isLoading,spinner:"bar-fade-scale"}}),t._v(" "),a("p",{staticClass:"center-text text-style"},[t._v("Динамика заказов по точке/сети")]),t._v(" "),a("line-chart",{attrs:{"chart-data":t.transformToLineChart("quantity")}})],1),t._v(" "),a("el-row",[a("vue-element-loading",{attrs:{active:t.isLoading,spinner:"bar-fade-scale"}}),t._v(" "),t.lineChartData.company&&t.lineChartData.company.average?a("p",{staticClass:"center-text text-style"},[t._v("\n          Общий средний чек - \n          "),t.lineChartData.company.average.length>0?a("span",[t._v(t._s(Math.round(t.countSum(t.lineChartData.company.average)/t.lineChartData.company.average.length))+" ")]):a("span",[t._v("0 ")]),t._v("\n          ₽\n        ")]):t._e(),t._v(" "),a("p",{staticClass:"center-text text-style average-check"},[t._v("Динамика изменения среднего чека по точке/сети")]),t._v(" "),a("line-chart",{attrs:{"chart-data":t.transformToLineChart("average")}})],1)],1),t._v(" "),a("div",{staticClass:"common"},[t.activePointId?[a("div",{staticClass:"pie"},[a("p",{staticClass:"center-text text-style"},[t._v("Разбиение по типу недовольства в кофейне")]),t._v(" "),a("pie-chart",{attrs:{"chart-data":t.transformToPieChart(t.pieRatings.quantity.byNegativeRatings)}})],1),t._v(" "),a("div",{staticClass:"pie"},[a("p",{staticClass:"center-text text-style"},[t._v("Средняя оценка по кофейне")]),t._v(" "),a("div",{staticClass:"star-rating"},[a("p",{staticClass:"card-panel-text text-style margin-left"},[a("star-rating",{staticStyle:{display:"block"},attrs:{rating:t.pieRatings.quantity&&t.pieRatings.quantity.averageRatings?t.pieRatings.quantity.averageRating[0].average:0,"read-only":!0,"star-size":25,"show-rating":!1,increment:.01,"active-color":"#ffac33"}})],1)])])]:t._e(),t._v(" "),a("div",{staticClass:"pie"},[a("p",{staticClass:"center-text text-style"},[t._v("Разбиение по количеству заказов")]),t._v(" "),a("p",{staticClass:"text-style sum-text"},[t._v("Количество заказов - "+t._s(t.countSum(t.pieOrders.quantity.byPoints)))]),t._v(" "),a("pie-chart",{attrs:{"chart-data":t.transformToPieChart(t.pieOrders.quantity.byPoints)}})],1),t._v(" "),a("div",{staticClass:"pie"},[a("p",{staticClass:"center-text text-style"},[t._v("Разбиение по количеству отмененных заказов")]),t._v(" "),a("p",{staticClass:"text-style sum-text"},[t._v("Количество заказов - "+t._s(t.countSum(t.pieOrders.quantity.byClosed)))]),t._v(" "),a("pie-chart",{attrs:{"chart-data":t.transformToPieChart(t.pieOrders.quantity.byClosed)}})],1),t._v(" "),a("div",{staticClass:"pie"},[a("p",{staticClass:"center-text text-style"},[t._v("Разбиение по способу оплаты заказов")]),t._v(" "),a("p",{staticClass:"text-style sum-text"},[t._v("Количество заказов - "+t._s(t.countSum(t.pieOrders.quantity.byPaymentType)))]),t._v(" "),a("pie-chart",{attrs:{"chart-data":t.transformToPieChart(t.pieOrders.quantity.byPaymentType)}})],1),t._v(" "),a("div",{staticClass:"pie"},[a("p",{staticClass:"center-text text-style"},[t._v("Разбиение по способу доставки")]),t._v(" "),a("p",{staticClass:"text-style sum-text"},[t._v("Количество заказов - "+t._s(t.countSum(t.pieOrders.quantity.byDeliveryType)))]),t._v(" "),a("pie-chart",{attrs:{"chart-data":t.transformToPieChart(t.pieOrders.quantity.byDeliveryType)}})],1),t._v(" "),a("div",{staticClass:"pie"},[a("p",{staticClass:"center-text text-style"},[t._v("Стоимость заказанных товаров")]),t._v(" "),a("p",{staticClass:"text-style sum-text"},[t._v("Общая прибыль - "+t._s(t.countSum(t.pieOrders.price.byPoints))+" ₽")]),t._v(" "),a("pie-chart",{attrs:{"chart-data":t.transformToPieChart(t.pieOrders.price.byPoints)}})],1),t._v(" "),a("div",{staticClass:"pie"},[a("p",{staticClass:"center-text text-style"},[t._v("Стоимость выполненных заказов")]),t._v(" "),a("p",{staticClass:"text-style sum-text"},[t._v("Общая прибыль - "+t._s(t.countSum(t.pieOrders.price.byClosed))+" ₽")]),t._v(" "),a("pie-chart",{attrs:{"chart-data":t.transformToPieChart(t.pieOrders.price.byClosed)}})],1),t._v(" "),a("div",{staticClass:"pie"},[a("p",{staticClass:"center-text text-style"},[t._v("Разбиение выполненных заказов по типу оплаты")]),t._v(" "),a("p",{staticClass:"text-style sum-text"},[t._v("Общая прибыль - "+t._s(t.countSum(t.pieOrders.price.closedByPaymentType))+" ₽")]),t._v(" "),a("pie-chart",{attrs:{"chart-data":t.transformToPieChart(t.pieOrders.price.closedByPaymentType)}})],1),t._v(" "),a("div",{staticClass:"pie"},[a("p",{staticClass:"center-text text-style"},[t._v("Разбиение по категориям")]),t._v(" "),a("p",{staticClass:"text-style sum-text"},[t._v("Количество заказанных продуктов - "+t._s(t.countSum(t.pieOrders.quantity.byCategories)))]),t._v(" "),a("pie-chart",{attrs:{"chart-data":t.transformToPieChart(t.pieOrders.quantity.byCategories)}})],1),t._v(" "),a("div",{staticClass:"pie"},[a("p",{staticClass:"center-text text-style"},[t._v("Разбиение по продуктам")]),t._v(" "),a("p",{staticClass:"text-style sum-text"},[t._v("Количество заказанных продуктов - "+t._s(t.countSum(t.pieOrders.quantity.byProducts)))]),t._v(" "),a("pie-chart",{attrs:{"chart-data":t.transformToPieChart(t.pieOrders.quantity.byProducts)}})],1),t._v(" "),a("div",{staticClass:"pie"},[a("p",{staticClass:"center-text text-style"},[t._v("Стоимость закзанных продуктов по категориям")]),t._v(" "),a("p",{staticClass:"text-style sum-text"},[t._v("Общая прибыль - "+t._s(t.countSum(t.pieOrders.price.byCategories))+" ₽")]),t._v(" "),a("pie-chart",{attrs:{"chart-data":t.transformToPieChart(t.pieOrders.price.byCategories)}})],1)],2)])],1)},[],!1,null,"df1a5970",null));B.options.__file="index.vue";e.default=B.exports}}]);